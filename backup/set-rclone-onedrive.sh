#!/bin/bash

# If you already have a refresh token (optional)
TOKEN='{"access_token":"EwBIBMl6BAAUBKgm8k1UswUNwklmy2v7U/S+1fEAAaJ0E1tbDc3cQpvArYjm4Ucpsirci8eMFpnlVwlWV2f+DlQkogQuAQ91tLw3jCfak75blnesUjytsP4l1JPSGyo3s+IrQTiVKdWBGsHAOSCvtGUK+13BVKpIqZJkTZXtx3orGvkOytozLgBXIi7tsUQUDl/PkZ75u4JzNKxBK/kxYmb65lqQux1GO0Z219pGSObNn4vlijBTe1ABOMqg4IDkM07iiBWqdMDWioFbo2gOtpahx6bz1ACm/a6LQyZ3+igkCreMvvHj+fT7ydHV8z+BANdhRXBj+npsvdtzPfQouaXWE31eyKzcbsrCyUkZgENYOqYD3M+riXNU0YkO/2QQZgAAEHVPhUytpfE0iK3eKHk48O8QA5/Y5AbWl5codzjxvdZXMYwKekWuEhxsQAsrugP8ynvd1jbghmNtVe2++mb9O3uCYsG8rKYwO7IkF8AF8+JANQ+B3qr6SMVchP5cr+oPVTploql+UgyT3/IZl+BbOKGfx4fyPNAsN9FYZnLooBGpvXMPLBWdTi1Rfi18341+Ez/Xp9nCVFE2LNThei3SVIJCtGU/0aQd+SgrsRr99MbHzFdiSLjSignJw7K3qtTSujjnGi1k6/Das/F21xXNUYugvVkcF2mK5BLNDWnOigkHIgfk2up8mTrPf8e4XwYYSw8viIxdNDgLy624X//B5+paPJIy10eRGUTOxpniW3prxp5ZyFNRqig7nmHJUO0ppyaWloNXvEz9jBxsE4x4ajJ52a9GeuFXEEai7q+j6KuNowF7GS5RytvhoWQWDQKMOQtAYslmXCU1YZ1x8RUiNroZVkZOE3GWHGJqagzAlz5xbClMyX6bGfJ7F9iH1k97owUpN8FctI5lFZNG4t6WojYSqURWmhyn198IfyUzNlTwXR/B5n5bTL0C1EVduTMrP3cHlQmCXlncuFoFy3YQCEv0vWoJ8Jd5E7bCgQELXZ0lDM4Xx+SijaC6Flo1DBMnwSejt/O1cM+7nzTdBIqSlTOY905LAQuFbiKP2fMR9QkmZ/omNhTWU8UVsaSR2BDSsyXzJrC/5yPU7rkwjLE4y83OsPFqfP/9AaBImfQtA86fc2KIhksx6Lwhe7g2CFZN+EJLtCQ+PG4eLi779EwVQqXmEjGrOZga3AXS8AA0lAtAY+Gma5AcE4VjYSgNs1OoibAiCwzoEwlbqVPWMZX+AeMiOND/YcsgAW9f0ZQT22LsqS3YPWaIIqFpIxQFRlJ4lKGecjAfhSBYT+7VRnlZ9xRCn01KZMP5btFZEVpcl83ky3SQKH8P0tMOmmnPF041iAA5B2wGNEw+Eid4DCcbhIvW9bLbGYgWYPvNfOKscDCYCKYTuZHy4DjsnW9r+QvWju1LB6XdpR6l1eLEa/AzN07qlr8DmxQoCHkGHKIFNGsMx9VIAw==","token_type":"Bearer","refresh_token":"M.C551_BAY.0.U.-ClV1Lvg54HjDZHXVnN9J51PukplNV*CGJliPlB!seg3r6qUqvms8OfiM13XoMf7zvZ9Qvs9XesN3MpzOQadGzU!x!du6JPQL1ltRwfg1jmuXlcZznHOs3oFICgHSHjanmwU89kHHwAGUQQ6cB0IaO*3Yxr34d1SZQP*rG5h!o9TFmBwKlaSZuPskOJ8Y9B4S4bGILYfe0o2yay6lBLXYnSCw83sJiwiMF0r00svYrNPsTyBIXQGXHEKNW3cLERZuitl0LisQgA1zXzL2gLE!nctAAaPZn*WHlWfJizd8Hhemvv6PRmGFwmovk5VeEExPYzu9AOklrTEi50hvZCcXyTqSrmOj9OUI9yRwX1uSg2jb","expiry":"2025-04-21T16:06:32.206503+08:00"}'

# Create the rclone config
rclone config create onedrive onedrive \
    client_id="" \
    client_secret="" \
    region="global" \
    drive_type="personal" \
    token="$TOKEN"

echo "Rclone OneDrive configuration created successfully!"